<!--
=================================================
Title: list.ejs
Author: Professor Krasso
Date 19 February 2022
Modified By: Orawan Rabampho
Description: Employee list file.
=================================================
-->
<!DOCTYPE html>
<html lang="en">


<head>
  <%- include ('header'); %>
</head>

<body>


  <%- include ('navbar'); %>

  <div class="bg-image d-flex justify-content-center align-items-center" style="background-image: url('https://images.unsplash.com/photo-1518655048521-f130df041f66?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80');
         height: 100vh;
         background-size: cover;">

    <!--container for main page-->
    
    <div role="main" class="container">
      <br/><br/>
  
      <% if (employees.length) { %>
          <h2>‐‐ Employee Listing ‐‐</h2><br />
          <!-- Add new link to add new employee. -->
          <a href="/new">Add New</a>
          <!-- Create table to show current employees. -->
          <table class="table table‐hover">
              <thead class="thead‐dark">
                  <tr>
                      <th>First Name</th>
                      <th>Last Name</th>
                      <th>Functions</th>
                  </tr>
              </thead>
              <tbody>
                  <% employees.forEach(function (entry) { %>
                  <tr>
                      <td><%= entry.firstName %></td>
                      <td><%= entry.lastName %></td>
                      <td><a href="/view/<%= entry.firstName %>">VIEW</a></td>
                  </tr>
                  <% }) %>
              </tbody>                
          </table>
      <!-- No entries, go to add new page. -->
      <% } else { %>
          No entries! <a href="/new">Add one!</a>
      <% } %>
  
      <br/>
    </div>  



        
  <!--include footer-->
  <div>
    <%- include ('footer'); -%>
  </div>


  </div>
</body>

</html>
